# MomsHero LineBot éƒ¨ç½²èˆ‡ç¶­è­·æŒ‡å—

## ğŸ“‹ ç›®éŒ„
- [ç’°å¢ƒè¨­å®š](#ç’°å¢ƒè¨­å®š)
- [éƒ¨ç½²æ­¥é©Ÿ](#éƒ¨ç½²æ­¥é©Ÿ)
- [ç›£æ§èˆ‡ç¶­è­·](#ç›£æ§èˆ‡ç¶­è­·)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
- [å‡ç´šæŒ‡å—](#å‡ç´šæŒ‡å—)

## ğŸ”§ ç’°å¢ƒè¨­å®š

### å¿…è¦ç’°å¢ƒè®Šæ•¸
```bash
# .env æ–‡ä»¶
GOOGLE_API_KEY=your_google_api_key
LINE_CHANNEL_ACCESS_TOKEN=your_line_channel_access_token
LINE_CHANNEL_SECRET=your_line_channel_secret
```

### Python ç’°å¢ƒ
```bash
# å»ºç«‹è™›æ“¬ç’°å¢ƒ
python -m venv .venv

# å•Ÿå‹•è™›æ“¬ç’°å¢ƒ
# Windows
.venv\Scripts\activate
# Linux/Mac
source .venv/bin/activate

# å®‰è£ä¾è³´
pip install -r requirements.txt
```

## ğŸš€ éƒ¨ç½²æ­¥é©Ÿ

### 1. æœ¬åœ°é–‹ç™¼ç’°å¢ƒ
```bash
# å•Ÿå‹•æ‡‰ç”¨
python app_llm.py

# ä½¿ç”¨ ngrok é€²è¡Œå¤–éƒ¨é€£æ¥
ngrok http 5000
```

### 2. ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²
```bash
# ä½¿ç”¨ Gunicorn (Linux/Mac)
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:5000 app_llm:app

# ä½¿ç”¨ Waitress (Windows)
pip install waitress
waitress-serve --host=0.0.0.0 --port=5000 app_llm:app
```

### 3. Docker éƒ¨ç½²
```dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
EXPOSE 5000

CMD ["python", "app_llm.py"]
```

## ğŸ“Š ç›£æ§èˆ‡ç¶­è­·

### ç³»çµ±ç›£æ§
```bash
# æª¢æŸ¥ç³»çµ±ç‹€æ…‹
python -c "from system_monitor import system_monitor; print(system_monitor.generate_report())"

# æŸ¥çœ‹æ—¥èªŒ
tail -f momshero_llm.log

# æª¢æŸ¥å¥åº·ç‹€æ…‹
curl http://localhost:5000/health
```

### å®šæœŸç¶­è­·ä»»å‹™
1. **æ¯æ—¥æª¢æŸ¥**
   - æŸ¥çœ‹ç³»çµ±æ—¥èªŒ
   - æª¢æŸ¥ API é…é¡ç‹€æ…‹
   - ç›£æ§ç”¨æˆ¶æ´»å‹•

2. **æ¯é€±æª¢æŸ¥**
   - æ¸…ç†èˆŠæ—¥èªŒæ–‡ä»¶
   - å‚™ä»½è³‡æ–™åº«
   - æ›´æ–°ç³»çµ±çµ±è¨ˆ

3. **æ¯æœˆæª¢æŸ¥**
   - æª¢æŸ¥ API ä½¿ç”¨é‡
   - è©•ä¼°ç³»çµ±æ•ˆèƒ½
   - æ›´æ–°ä¾è³´å¥—ä»¶

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

#### 1. LLM API é…é¡ç”¨å®Œ
**ç—‡ç‹€**: å‡ºç¾ 429 éŒ¯èª¤
**è§£æ±ºæ–¹æ¡ˆ**:
- ç­‰å¾…é…é¡é‡ç½®ï¼ˆé€šå¸¸24å°æ™‚ï¼‰
- å‡ç´šåˆ°ä»˜è²»ç‰ˆæœ¬
- æª¢æŸ¥ API é‡‘é‘°è¨­å®š

#### 2. LineBot Webhook éŒ¯èª¤
**ç—‡ç‹€**: ç„¡æ³•æ¥æ”¶ç”¨æˆ¶è¨Šæ¯
**è§£æ±ºæ–¹æ¡ˆ**:
- æª¢æŸ¥ Webhook URL è¨­å®š
- ç¢ºèª ngrok é€£æ¥æ­£å¸¸
- é©—è­‰ Channel Secret

#### 3. è³‡æ–™åº«éŒ¯èª¤
**ç—‡ç‹€**: ç„¡æ³•å„²å­˜é£Ÿè­œè¨˜éŒ„
**è§£æ±ºæ–¹æ¡ˆ**:
- æª¢æŸ¥è³‡æ–™åº«æ–‡ä»¶æ¬Šé™
- ç¢ºèª SQLite ç‰ˆæœ¬
- é‡å»ºè³‡æ–™åº«ï¼ˆå¦‚éœ€è¦ï¼‰

### éŒ¯èª¤ä»£ç¢¼èªªæ˜
- `429`: API é…é¡ç”¨å®Œ
- `401`: API é‡‘é‘°ç„¡æ•ˆ
- `403`: æ¬Šé™ä¸è¶³
- `500`: å…§éƒ¨ä¼ºæœå™¨éŒ¯èª¤

## ğŸ“ˆ æ•ˆèƒ½å„ªåŒ–

### 1. LLM èª¿ç”¨å„ªåŒ–
- ä½¿ç”¨å¿«å–æ©Ÿåˆ¶
- æ‰¹é‡è™•ç†è«‹æ±‚
- å„ªåŒ–æç¤ºè©é•·åº¦

### 2. è³‡æ–™åº«å„ªåŒ–
- å®šæœŸæ¸…ç†èˆŠè¨˜éŒ„
- å»ºç«‹ç´¢å¼•
- ä½¿ç”¨é€£æ¥æ± 

### 3. è¨˜æ†¶é«”ç®¡ç†
- ç›£æ§è¨˜æ†¶é«”ä½¿ç”¨
- å®šæœŸé‡å•Ÿæœå‹™
- æ¸…ç†æš«å­˜æ–‡ä»¶

## ğŸ”„ å‡ç´šæŒ‡å—

### 1. å‚™ä»½é‡è¦è³‡æ–™
```bash
# å‚™ä»½è³‡æ–™åº«
cp database/recipes.db database/recipes_backup_$(date +%Y%m%d).db

# å‚™ä»½è¨­å®š
cp .env .env_backup_$(date +%Y%m%d)
```

### 2. æ›´æ–°ç¨‹å¼ç¢¼
```bash
# æ‹‰å–æœ€æ–°ç¨‹å¼ç¢¼
git pull origin main

# æ›´æ–°ä¾è³´
pip install -r requirements.txt --upgrade
```

### 3. æ¸¬è©¦æ–°åŠŸèƒ½
```bash
# é‹è¡Œæ¸¬è©¦
python test_llm.py

# æª¢æŸ¥å¥åº·ç‹€æ…‹
curl http://localhost:5000/health
```

## ğŸ“ æ”¯æ´èˆ‡è¯çµ¡

### æŠ€è¡“æ”¯æ´
- æŸ¥çœ‹æ—¥èªŒæ–‡ä»¶: `momshero_llm.log`
- ç³»çµ±ç‹€æ…‹: `system_stats.json`
- å¥åº·æª¢æŸ¥: `/health` ç«¯é»

### è¯çµ¡è³‡è¨Š
- å°ˆæ¡ˆç¶­è­·è€…: [æ‚¨çš„è¯çµ¡æ–¹å¼]
- æŠ€è¡“æ–‡ä»¶: [å°ˆæ¡ˆ Wiki]
- å•é¡Œå›å ±: [GitHub Issues]

## ğŸ“ æ›´æ–°æ—¥èªŒ

### v1.0.0 (2024-01-XX)
- åˆå§‹ç‰ˆæœ¬ç™¼å¸ƒ
- æ”¯æ´å¤šè¼ªå°è©±
- LLM æ•´åˆ
- åŸºæœ¬é£Ÿè­œæ¨è–¦åŠŸèƒ½

### æœªä¾†è¦åŠƒ
- [ ] é›¢ç·šé£Ÿè­œè³‡æ–™åº«
- [ ] ç”¨æˆ¶åå¥½å­¸ç¿’
- [ ] å¤šèªè¨€æ”¯æ´
- [ ] é€²éšåˆ†æåŠŸèƒ½ 